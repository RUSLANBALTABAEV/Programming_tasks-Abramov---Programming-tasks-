"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
2. Разветвления
59. Даны действительные числа x, y. Определить, принадлежит
ли точка с координатами x, y заштрихованной части плоскости (рис. 2, а—2, к).
"""

import math


def point_in_circle(x, y, center_x, center_y, radius):
    """Проверяет, находится ли точка внутри окружности или на ней."""
    distance_squared = (x - center_x) ** 2 + (y - center_y) ** 2
    return distance_squared <= radius ** 2


def point_in_region_a(x, y):
    """
    Рисунок а): Круг с центром в (0, 0) и радиусом 1.
    Заштрихована вся область круга.
    """
    return point_in_circle(x, y, 0, 0, 1)


def point_in_region_b(x, y):
    """
    Рисунок б): Кольцо - внешний круг радиуса 1, внутренний круг радиуса 0.5.
    Заштрихована область между кругами.
    """
    in_outer = point_in_circle(x, y, 0, 0, 1)
    in_inner = point_in_circle(x, y, 0, 0, 0.5)
    return in_outer and not in_inner


def point_in_region_c(x, y):
    """
    Рисунок в): Квадрат с вершинами в (-1, -1), (1, -1), (1, 1), (-1, 1).
    Заштрихована вся область квадрата.
    """
    return -1 <= x <= 1 and -1 <= y <= 1


def point_in_region_d(x, y):
    """
    Рисунок г): Ромб с вершинами в (0, 1), (1, 0), (0, -1), (-1, 0).
    Условие: |x| + |y| ≤ 1
    """
    return abs(x) + abs(y) <= 1


def point_in_region_e(x, y):
    """
    Рисунок д): Ромб с вершинами в (0, 1), (0.5, 0), (0, -1), (-0.5, 0).
    Условие: |x| + |y| ≤ 1, но с коэффициентом для x
    Или: 2|x| + |y| ≤ 1
    """
    return 2 * abs(x) + abs(y) <= 1


def point_in_region_f(x, y):
    """
    Рисунок е): Эллипс или овал.
    По рисунку: полукруг справа с радиусом 1, центр в (0, 0),
    и расширение влево до x = -2.
    Приближенная формула: (x/2)² + y² ≤ 1 для x < 0, x² + y² ≤ 1 для x ≥ 0
    """
    if x >= 0:
        return point_in_circle(x, y, 0, 0, 1)
    else:
        # Эллипс с полуосями a=2, b=1
        return (x / 2) ** 2 + y ** 2 <= 1


def point_in_region_g(x, y):
    """
    Рисунок ж): Треугольник с вершинами в (0, 2), (-1, -1), (1, -1).
    Трапеция с верхней вершиной и горизонтальным основанием.
    """
    # Проверяем границы треугольника
    if y > 2 or y < -1:
        return False
    
    # Верхняя часть: линии от (0, 2) к (-1, -1) и к (1, -1)
    # Левая граница: от (0, 2) к (-1, -1), уравнение: y = 2 - 3x (при x ≤ 0)
    # Правая граница: от (0, 2) к (1, -1), уравнение: y = 2 - 3x (при x ≥ 0)
    
    if y >= -1:
        left_bound = -(y - 2) / 3  # x = -(y - 2) / 3
        right_bound = (y - 2) / 3   # x = (y - 2) / 3
        return left_bound <= x <= -left_bound
    
    return False


def point_in_region_h(x, y):
    """
    Рисунок з): Квадрат с вырезанным треугольником снизу.
    Квадрат: -2 ≤ x ≤ 0, -1 ≤ y ≤ 1
    Вырезанный треугольник с вершинами в (-2, -1), (0, -1), (-1, 1)
    """
    # Внутри квадрата
    if not (-2 <= x <= 0 and -1 <= y <= 1):
        return False
    
    # Проверяем, что НЕ в вырезанном треугольнике
    # Треугольник имеет вершины в (-2, -1), (0, -1), (-1, 1)
    # Это верхняя часть, нужно уточнить по рисунку
    # По рисунку: заштрихована область выше линий
    
    # Левая граница треугольника: от (-2, -1) к (-1, 1), y = 2x + 3
    # Правая граница: от (0, -1) к (-1, 1), y = -2x - 1
    
    if y >= -1:
        # Область заштрихована, если выше обеих линий
        if x <= -1:
            return y >= 2 * x + 3
        else:
            return y >= -2 * x - 1
    
    return False


def point_in_region_i(x, y):
    """
    Рисунок и): Треугольник с вершинами примерно в (-2, -1), (1, 1), (1, -1).
    """
    # Проверяем границы
    if x < -2 or x > 1:
        return False
    
    # Нижняя граница: y = -1
    if y < -1:
        return False
    
    # Верхняя граница: линия от (-2, -1) к (1, 1)
    # Уравнение: y = (2/3)x + (1/3)
    upper_bound = (2/3) * x + (1/3)
    
    # Правая граница: x = 1
    if x > 1:
        return False
    
    return -1 <= y <= upper_bound


def point_in_region_j(x, y):
    """
    Рисунок к): Область в виде креста с вырезом внизу.
    Верхняя и боковые части прямоугольные, внизу вырезан треугольник.
    """
    # Определим границы по рисунку
    # Верхняя часть: y ≥ 1 (вся плоскость выше)
    if y >= 1:
        return True
    
    # Боковые части: |x| ≥ 1
    if abs(x) >= 1:
        return True
    
    # Нижняя часть с вырезом: треугольник с вершинами в (-1, 0), (1, 0), (0, -1)
    # НЕ заштрихована область треугольника
    if -1 <= x <= 1 and y < 1:
        # Проверяем, что НЕ внутри треугольника
        # Треугольник: |x| + |y| ≤ 1 и y ≤ 0
        in_triangle = abs(x) + abs(y) <= 1 and y <= 0
        return not in_triangle
    
    return False


def describe_region(variant):
    """Возвращает описание области для выбранного варианта."""
    descriptions = {
        'a': "Круг радиуса 1 с центром в начале координат",
        'b': "Кольцо: внешний радиус 1, внутренний радиус 0.5",
        'c': "Квадрат со сторонами от -1 до 1",
        'd': "Ромб с вершинами в (±1, 0) и (0, ±1)",
        'e': "Узкий ромб с вершинами в (±0.5, 0) и (0, ±1)",
        'f': "Овальная область (эллипс с полуосями 2 и 1)",
        'g': "Треугольник с вершиной в (0, 2) и основанием на y=-1",
        'h': "Квадрат с вырезанным треугольником",
        'i': "Треугольник от (-2, -1) до (1, 1) и (1, -1)",
        'j': "Крестообразная область с вырезом внизу"
    }
    return descriptions.get(variant, "Неизвестная область")


def main():
    """Основная функция программы."""
    print("Проверка принадлежности точки заштрихованной области")
    print("=" * 75)
    
    print("Доступные варианты:")
    print("  а) Круг радиуса 1")
    print("  б) Кольцо (внешний R=1, внутренний R=0.5)")
    print("  в) Квадрат [-1, 1] × [-1, 1]")
    print("  г) Ромб |x| + |y| ≤ 1")
    print("  д) Узкий ромб 2|x| + |y| ≤ 1")
    print("  е) Овальная область")
    print("  ж) Треугольник с вершиной в (0, 2)")
    print("  з) Квадрат с вырезанным треугольником")
    print("  и) Треугольная область")
    print("  к) Крестообразная область с вырезом")
    print()
    
    variant = input("Выберите вариант (а-к): ").lower().strip()
    
    # Приводим к латинским буквам
    variant_map = {
        'а': 'a', 'б': 'b', 'в': 'c', 'г': 'd', 'д': 'e',
        'е': 'f', 'ж': 'g', 'з': 'h', 'и': 'i', 'к': 'j'
    }
    if variant in variant_map:
        variant = variant_map[variant]
    
    valid_variants = list('abcdefghij')
    if variant not in valid_variants:
        print("Ошибка: неверный вариант!")
        return
    
    print("=" * 75)
    
    try:
        # Ввод координат точки
        x = float(input("Введите координату x: "))
        y = float(input("Введите координату y: "))
        
        print("=" * 75)
        
        # Выводим описание области
        print(f"Область: {describe_region(variant)}")
        print(f"Точка: ({x}, {y})")
        print("-" * 75)
        
        # Проверяем принадлежность
        functions = {
            'a': point_in_region_a,
            'b': point_in_region_b,
            'c': point_in_region_c,
            'd': point_in_region_d,
            'e': point_in_region_e,
            'f': point_in_region_f,
            'g': point_in_region_g,
            'h': point_in_region_h,
            'i': point_in_region_i,
            'j': point_in_region_j
        }
        
        result = functions[variant](x, y)
        
        # Дополнительная информация для некоторых вариантов
        if variant == 'a':
            dist = math.sqrt(x**2 + y**2)
            print(f"Расстояние от начала координат: {dist:.6f}")
            print(f"Радиус круга: 1")
            
        elif variant == 'b':
            dist = math.sqrt(x**2 + y**2)
            print(f"Расстояние от начала координат: {dist:.6f}")
            print(f"Внешний радиус: 1, внутренний радиус: 0.5")
            
        elif variant == 'd':
            manhattan = abs(x) + abs(y)
            print(f"|x| + |y| = {manhattan:.6f}")
            print(f"Условие: |x| + |y| ≤ 1")
        
        print("-" * 75)
        
        if result:
            print(f"✓ Точка ({x}, {y}) ПРИНАДЛЕЖИТ заштрихованной области")
        else:
            print(f"✗ Точка ({x}, {y}) НЕ ПРИНАДЛЕЖИТ заштрихованной области")
        
        print("=" * 75)
        
    except ValueError:
        print("Ошибка: необходимо вводить числа!")
    except Exception as e:
        print(f"Произошла ошибка: {e}")


if __name__ == "__main__":
    main()

input("\nНажмите Enter, чтобы завершить программу.")
