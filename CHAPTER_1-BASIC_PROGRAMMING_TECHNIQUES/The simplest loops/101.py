"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
4. Простейшие циклы

101. Даны положительные действительные числа a, x ,ε. В
последовательности y1, y2, ... , образованной по закону
y0 = a; yi = 1 / 2 * (yi-1 + x / (yi-1)), i = 1,2,...;

найти первый член yn, для которого выполнено неравенство
abs(y^2 n - y ^ 2 n - 1) < ε.
"""


def main():
    # Ввод положительных действительных чисел
    a = float(input("Введите положительное действительное число a: "))
    x = float(input("Введите положительное действительное число x: "))
    eps = float(input("Введите положительное действительное число ε: "))
    
    if a <= 0 or x <= 0 or eps <= 0:
        print("Все числа должны быть положительными")
        return
    
    # Инициализация последовательности
    y_prev = a  # y0
    n = 0  # счетчик итераций
    
    # Максимальное количество итераций для предотвращения бесконечного цикла
    max_iterations = 10000
    
    # Вычисление последовательности
    while n < max_iterations:
        # Вычисление следующего члена последовательности
        y_current = 0.5 * (y_prev + x / y_prev)
        n += 1  # увеличиваем счетчик
        
        # Проверка условия
        if abs(y_current**2 - y_prev**2) < eps:
            print(f"Найден член y_{n} = {y_current}")
            print(f"Условие |y_{n}² - y_{n-1}²| < {eps} выполнено")
            print(f"Фактическое значение |{y_current**2} - {y_prev**2}| = {abs(y_current**2 - y_prev**2)}")
            break
        
        # Подготовка к следующей итерации
        y_prev = y_current
    else:
        print(f"За {max_iterations} итераций условие не достигнуто")
        print(f"Последнее вычисленное значение: y_{n} = {y_current}")
        print(f"Текущая разность квадратов: {abs(y_current**2 - y_prev**2)}")


if __name__ == "__main__":
    main()
    input("\nНажмите Enter, чтобы завершить программу.")
