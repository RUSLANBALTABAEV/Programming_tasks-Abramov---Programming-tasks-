"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
4. Простейшие циклы


113. Пусть n - натуральное число и пусть n!! означает 1 * 3 * 5 *...* n для нечетного n и 2 * 4 * ... * n для четного n. Для заданного натурального n вычислить:
а) n!!;
б) (-1) ^ n + 1 n!!.
"""


def main():
    # Ввод натурального числа n
    n = int(input("Введите натуральное число n: "))
    
    if n <= 0:
        print("Ошибка: n должно быть натуральным числом")
        return
    
    # Вычисление двойного факториала n!!
    double_fact = 1
    start = 2 if n % 2 == 0 else 1  # начинаем с 2 для четного, с 1 для нечетного
    
    for i in range(start, n + 1, 2):
        double_fact *= i
    
    # Вычисление (-1)^(n+1) * n!!
    sign = 1 if (n + 1) % 2 == 0 else -1  # (-1)^(n+1)
    result_b = sign * double_fact
    
    # Вывод результатов
    print(f"\nа) {n}!! = {double_fact}")
    print(f"б) (-1)^({n}+1) * {n}!! = (-1)^{n+1} * {double_fact} = {result_b}")
    
    # Дополнительный вывод для наглядности
    print(f"\nПодробное вычисление {n}!!:")
    if n % 2 == 0:  # четное
        print("Четное n, поэтому умножаем четные числа:")
        print(" * ".join(str(i) for i in range(2, n + 1, 2)), "=", double_fact)
    else:  # нечетное
        print("Нечетное n, поэтому умножаем нечетные числа:")
        print(" * ".join(str(i) for i in range(1, n + 1, 2)), "=", double_fact)


if __name__ == "__main__":
    main()
    input("\nНажмите Enter, чтобы завершить программу.")
