"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
4. Простейшие циклы


111. Дано действительное число x != 0. Вычислисть 
           x 
------------------------
           2
x ^ 2 + ----------------
           4
x ^ 2 + ----------------
           8
x ^ 2 + ----------------
        .
         .
          .
          x ^ 2 + 256 / x ^ 2!
"""


def main():
    # Ввод действительного числа x ≠ 0
    x = float(input("Введите действительное число x (x ≠ 0): "))
    
    if x == 0:
        print("Ошибка: x не должно быть равно 0")
        return
    
    # Список степеней двойки от 2 до 256
    powers = [2, 4, 8, 16, 32, 64, 128, 256]
    
    # Начинаем с последнего уровня: x^2 + 256/x^2
    current = x**2 + 256 / (x**2)
    
    # Обрабатываем остальные степени двойки в обратном порядке (кроме последней 256)
    for num in reversed(powers[:-1]):  # [128, 64, 32, 16, 8, 4, 2]
        current = x**2 + num / current
    
    # Вычисляем окончательный результат: x / current
    result = x / current
    
    # Вывод результата
    print(f"\nРезультат вычисления цепной дроби для x = {x}:")
    print(f"x / (x² + 2/(x² + 4/(x² + 8/(.../(x² + 256/x²)...)))) = {result}")
    
    # Вывод промежуточных вычислений (по желанию)
    print("\nПроверка: последний знаменатель (x² + 256/x²) =", x**2 + 256/(x**2))


if __name__ == "__main__":
    main()
    input("\nНажмите Enter, чтобы завершить программу.")
