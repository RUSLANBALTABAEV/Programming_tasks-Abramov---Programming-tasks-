"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
4. Простейшие циклы


106. Даны действительные числа a, b, натуральное число n (b > a). Получить (f1+...+fn) * h, где

h = (b - a) / n, fi = (a + (i - 1 / 2) * h) / (1 + (a + (i - 1 / 2) * h)) ^ 2, i = 1,2,..., n.
"""


def main():
    # Ввод данных
    a = float(input("Введите действительное число a: "))
    b = float(input("Введите действительное число b (b > a): "))
    n = int(input("Введите натуральное число n: "))
    
    # Проверка условий
    if b <= a:
        print("Ошибка: b должно быть больше a")
        return
    
    if n <= 0:
        print("Ошибка: n должно быть натуральным числом")
        return
    
    # Вычисление шага
    h = (b - a) / n
    
    # Инициализация суммы
    total = 0.0
    
    # Вычисление суммы f_i для i = 1..n
    for i in range(1, n + 1):
        # Вычисление аргумента
        x = a + (i - 0.5) * h
        
        # Вычисление f_i
        f_i = x / (1 + x**2)
        
        # Добавление к сумме
        total += f_i
    
    # Умножение суммы на h
    result = total * h
    
    # Вывод результата
    print(f"\nРезультат вычислений:")
    print(f"h = (b - a) / n = ({b} - {a}) / {n} = {h}")
    print(f"Сумма f_i для i=1..{n} = {total}")
    print(f"(f1 + ... + f{n}) * h = {result}")


if __name__ == "__main__":
    main()
    input("\nНажмите Enter, чтобы завершить программу.")
