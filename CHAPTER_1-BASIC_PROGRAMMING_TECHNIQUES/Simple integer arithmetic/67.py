"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
3. Простейшая целочисленная арифметика
67. Дано натуральное число n (n ≤ 100).
а) Сколько цифр в числе n?
б) Чему равна сумма его цифр?
в) Найти последнюю цифру числа n.
г) Найти первую цифру числа n.
д) В предположении, что n ≥ 10, найти предпоследнюю цифру числа n.
"""


def analyze_number(n: int) -> dict[str, int | None] | None:
    """
    Анализирует заданное натуральное число n (1 ≤ n ≤ 100):
    - количество цифр;
    - сумму цифр;
    - первую, последнюю и предпоследнюю цифры.

    Args:
        n (int): Натуральное число от 1 до 100.

    Returns:
        dict[str, int | None] | None: Словарь с результатами анализа
        или None, если n вне диапазона.
    """
    if not (1 <= n <= 100):
        return None

    str_n = str(n)
    return {
        "число": n,
        "количество_цифр": len(str_n),
        "сумма_цифр": sum(int(d) for d in str_n),
        "последняя_цифра": int(str_n[-1]),
        "первая_цифра": int(str_n[0]),
        "предпоследняя_цифра": int(str_n[-2]) if n >= 10 else None,
    }


def print_analysis(n: int) -> None:
    """
    Печатает результаты анализа числа n в удобочитаемом виде.

    Args:
        n (int): Натуральное число для анализа.
    """
    result = analyze_number(n)
    if result is None:
        print("Ошибка: число должно быть от 1 до 100.")
        return

    print(f"\n{'=' * 50}")
    print(f"Анализ числа: n = {n}")
    print(f"{'=' * 50}")

    print(f"а) Количество цифр: {result['количество_цифр']}")
    print(f"б) Сумма цифр: {result['сумма_цифр']}")
    print(f"в) Последняя цифра: {result['последняя_цифра']}")
    print(f"г) Первая цифра: {result['первая_цифра']}")

    if result["предпоследняя_цифра"] is not None:
        print(f"д) Предпоследняя цифра: {result['предпоследняя_цифра']}")
    else:
        print("д) Предпоследняя цифра: нет (число < 10)")


def main() -> None:
    """Основная функция программы."""
    try:
        n = int(input("Введите натуральное число (n ≤ 100): ").strip())
        print_analysis(n)

        print(f"\n{'=' * 50}")
        print("--- Примеры анализа чисел ---")
        examples = [5, 17, 42, 100]

        for num in examples:
            data = analyze_number(num)
            if data:
                print(f"\nn = {data['число']}:")
                print(f"  Цифр: {data['количество_цифр']}, "
                      f"Сумма: {data['сумма_цифр']}")
                print(f"  Первая: {data['первая_цифра']}, "
                      f"Последняя: {data['последняя_цифра']}", end="")
                if data['предпоследняя_цифра'] is not None:
                    print(f", Предпоследняя: {data['предпоследняя_цифра']}")
                else:
                    print()
    except ValueError:
        print("Ошибка: необходимо ввести целое число.")

    input("\nНажмите Enter, чтобы завершить программу.")


if __name__ == "__main__":
    main()
