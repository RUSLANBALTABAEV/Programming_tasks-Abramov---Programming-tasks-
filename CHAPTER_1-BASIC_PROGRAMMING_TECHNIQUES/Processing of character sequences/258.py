"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
7. Сочетания цикла и разветвления

258. Даны натуральное число n, символы s1, …, sn. Удалить из данной последовательности все группы букв вида abcd.
"""


def main():
    print("=== Задача 258 ===")
    print("Удаление всех групп букв вида 'abcd' из последовательности")
    print()
    
    # Ввод данных
    try:
        n = int(input("Введите натуральное число n: "))
        if n < 0:
            print("Ошибка: n должно быть натуральным числом.")
            return
        
        print(f"Введите {n} символов подряд:")
        symbols = input()
        
        # Проверка длины введенной последовательности
        if len(symbols) < n:
            print(f"Предупреждение: введено только {len(symbols)} символов. Будем использовать их.")
            n = len(symbols)
        elif len(symbols) > n:
            print(f"Предупреждение: введено {len(symbols)} символов. Будем использовать первые {n}.")
            symbols = symbols[:n]
        
        # Используем стек для удаления подстрок "abcd"
        stack = []
        for ch in symbols:
            stack.append(ch)
            
            # Проверяем, не образовалась ли на вершине стека подстрока "abcd"
            if len(stack) >= 4:
                # Проверяем последние 4 символа
                if (stack[-4] == 'a' and stack[-3] == 'b' and 
                    stack[-2] == 'c' and stack[-1] == 'd'):
                    # Удаляем последние 4 символа (a, b, c, d)
                    for _ in range(4):
                        stack.pop()
        
        # Преобразуем стек обратно в строку
        result = ''.join(stack)
        
        # Вывод результатов
        print(f"\nИсходная последовательность: {symbols}")
        print(f"Длина последовательности: {n}")
        print(f"\nРезультат после удаления всех 'abcd': {result}")
        print(f"Длина результата: {len(result)}")
        
        # Дополнительная информация
        original_count = symbols.count('abcd')
        print(f"\nКоличество 'abcd' в исходной строке: {original_count}")
        
        # Проверяем, остались ли еще 'abcd' в результате
        if 'abcd' in result:
            print("Предупреждение: в результате все еще есть 'abcd'!")
            print("(это может быть из-за пересекающихся вхождений)")
        else:
            print("В результате больше нет подстрок 'abcd'")
            
    except ValueError:
        print("Ошибка: n должно быть натуральным числом.")
        return

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
