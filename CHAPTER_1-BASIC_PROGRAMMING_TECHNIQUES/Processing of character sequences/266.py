"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
7. Сочетания цикла и разветвления

266. Даны натуральное число n, символы s1, …, sn, среди которых есть хотя бы одна точка. Преобразовать последовательность s1, …, sn, удалив из нее все запятые, предшествующие первой точке, и заменив знаком + все цифры 3, встречающиеся после первой точки.
"""


def main():
    print("=== Задача 266 ===")
    print("Удалить запятые перед первой точкой и заменить цифры 3 на + после первой точки")
    print()
    
    # Ввод данных
    try:
        n = int(input("Введите натуральное число n: "))
        if n <= 0:
            print("Ошибка: n должно быть натуральным числом.")
            return
        
        print(f"Введите {n} символов подряд:")
        symbols = input()
        
        # Проверка длины введенной последовательности
        if len(symbols) < n:
            print(f"Предупреждение: введено только {len(symbols)} символов. Будем использовать их.")
            n = len(symbols)
        elif len(symbols) > n:
            print(f"Предупреждение: введено {len(symbols)} символов. Будем использовать первые {n}.")
            symbols = symbols[:n]
        
        # Проверяем наличие точки
        if '.' not in symbols:
            print("Ошибка: по условию среди символов должна быть хотя бы одна точка.")
            return
        
        print(f"\nИсходная последовательность: '{symbols}'")
        print(f"Длина последовательности: {n}")
        
        # Находим позицию первой точки
        first_dot_index = symbols.find('.')
        print(f"Первая точка на позиции: {first_dot_index + 1}")
        
        # Строим результат
        result = []
        
        # Обрабатываем каждый символ
        for i, ch in enumerate(symbols):
            if i < first_dot_index:
                # До первой точки
                if ch == ',':
                    # Запятая перед первой точкой - удаляем (не добавляем)
                    continue
                else:
                    # Остальные символы перед точкой добавляем как есть
                    result.append(ch)
            else:
                # После первой точки (включая саму точку)
                if ch == '3':
                    # Цифра 3 после первой точки - заменяем на +
                    result.append('+')
                else:
                    # Остальные символы после точки добавляем как есть
                    result.append(ch)
        
        # Преобразуем список в строку
        result_str = ''.join(result)
        
        # Вывод результатов
        print(f"\nРезультат после преобразования: '{result_str}'")
        print(f"Длина результата: {len(result_str)}")
        
        # Статистика
        print(f"\nСтатистика:")
        print(f"Количество точек в исходной строке: {symbols.count('.')}")
        print(f"Количество запятых в исходной строке: {symbols.count(',')}")
        
        # Подсчет удаленных запятых
        commas_before_dot = 0
        for i in range(first_dot_index):
            if symbols[i] == ',':
                commas_before_dot += 1
        print(f"Запятых перед первой точкой (удалено): {commas_before_dot}")
        
        # Подсчет замененных цифр 3
        threes_after_dot = 0
        for i in range(first_dot_index + 1, n):
            if symbols[i] == '3':
                threes_after_dot += 1
        print(f"Цифр 3 после первой точки (заменены на +): {threes_after_dot}")
        
        # Дополнительная информация
        print(f"\nДополнительно:")
        print(f"Символы до первой точки (после удаления запятых): '{result_str[:first_dot_index - commas_before_dot]}'")
        print(f"Символы начиная с первой точки: '{result_str[first_dot_index - commas_before_dot:]}'")
            
    except ValueError:
        print("Ошибка: n должно быть натуральным числом.")
        return

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
