"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
7. Сочетания цикла и разветвления

253. Даны натуральное число n, символы s1, …, sn. 
Преобразовать последовательность s1, …, sn, заменив в ней:
а) все восклицательные знаки точками;
б) каждую точку многоточием (т. е. тремя точками);
в) каждую из групп стоящих рядом точек одной точкой;
г) каждую из групп стоящих рядом точек многоточием (т. е. тремя точками).
"""


def main():
    print("=== Задача 253 (строго по условию) ===")
    
    # Ввод данных
    n = int(input("Введите натуральное число n: "))
    
    print(f"Введите {n} символов подряд:")
    symbols = input()
    
    # Проверяем длину введенных символов
    if len(symbols) > n:
        symbols = symbols[:n]
    elif len(symbols) < n:
        print(f"Предупреждение: введено только {len(symbols)} символов")
        n = len(symbols)
    
    print(f"\nИсходная последовательность: {symbols}")
    print()
    
    # а) Заменить все восклицательные знаки точками
    result_a = ""
    for char in symbols:
        if char == '!':
            result_a += '.'
        else:
            result_a += char
    
    print("а) Замена всех '!' на '.':")
    print(f"   Результат: {result_a}")
    print()
    
    # б) Заменить каждую точку многоточием (тремя точками)
    result_b = ""
    for char in symbols:
        if char == '.':
            result_b += '...'
        else:
            result_b += char
    
    print("б) Замена каждой точки на '...':")
    print(f"   Результат: {result_b}")
    print()
    
    # в) Заменить каждую группу стоящих рядом точек одной точкой
    result_c = ""
    i = 0
    while i < n:
        if symbols[i] == '.':
            # Добавляем одну точку и пропускаем все остальные в группе
            result_c += '.'
            while i < n and symbols[i] == '.':
                i += 1
        else:
            result_c += symbols[i]
            i += 1
    
    print("в) Замена групп точек одной точкой:")
    print(f"   Результат: {result_c}")
    print()
    
    # г) Заменить каждую группу стоящих рядом точек многоточием
    result_d = ""
    i = 0
    while i < n:
        if symbols[i] == '.':
            # Добавляем многоточие и пропускаем все точки в группе
            result_d += '...'
            while i < n and symbols[i] == '.':
                i += 1
        else:
            result_d += symbols[i]
            i += 1
    
    print("г) Замена групп точек многоточием:")
    print(f"   Результат: {result_d}")

if __name__ == "__main__":
    main()
