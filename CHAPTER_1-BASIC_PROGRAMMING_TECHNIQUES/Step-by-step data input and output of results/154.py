"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
6. Пошаговый ввод данных и вывод результатов *)

154. Даны натуральное число n, действительные числа a,b,x1,y1, ..., xn, yn. Пара a, b – координаты школы микрорайона, а пары xi, yi (i=1, ..., n) – соответственно координаты домов этого микрорайона. Найти расстояния от домов до школы и среднее арифметическое этих расстояний.
"""


import math

def main():
    print("Расчет расстояний от домов микрорайона до школы")
    print("=" * 70)
    
    # Ввод количества домов
    n = int(input("Введите количество домов n: "))
    
    if n <= 0:
        print("Ошибка: количество домов должно быть натуральным числом!")
        return
    
    # Ввод координат школы
    print("\nВведите координаты школы:")
    a = float(input("Координата a (x школы): "))
    b = float(input("Координата b (y школы): "))
    
    print("\n" + "=" * 70)
    print(f"Школа находится в точке: ({a}, {b})")
    print(f"Количество домов: {n}")
    print("=" * 70)
    
    # Инициализация переменных для статистики
    total_distance = 0.0
    min_distance = float('inf')
    max_distance = 0.0
    closest_houses = []
    farthest_houses = []
    
    print("\nВведите координаты домов:")
    print("-" * 70)
    
    # Таблица для вывода результатов
    print(f"{'Дом №':>6} | {'Координаты (x, y)':^20} | {'Расстояние до школы':^20}")
    print("-" * 70)
    
    # Ввод координат домов и вычисление расстояний
    for i in range(1, n + 1):
        print(f"\nДом №{i}:")
        xi = float(input(f"  Координата x{i}: "))
        yi = float(input(f"  Координата y{i}: "))
        
        # Вычисление расстояния по формуле √((xi - a)² + (yi - b)²)
        distance = math.sqrt((xi - a)**2 + (yi - b)**2)
        
        # Обновление статистики
        total_distance += distance
        
        if distance < min_distance:
            min_distance = distance
            closest_houses = [(i, xi, yi, distance)]
        elif abs(distance - min_distance) < 1e-10:
            closest_houses.append((i, xi, yi, distance))
        
        if distance > max_distance:
            max_distance = distance
            farthest_houses = [(i, xi, yi, distance)]
        elif abs(distance - max_distance) < 1e-10:
            farthest_houses.append((i, xi, yi, distance))
        
        # Вывод строки таблицы
        print(f"  Расстояние: √(({xi} - {a})² + ({yi} - {b})²) = {distance:.4f}")
    
    # Вычисление среднего расстояния
    average_distance = total_distance / n if n > 0 else 0
    
    # Вывод итоговой таблицы
    print("\n" + "=" * 70)
    print("ИТОГОВАЯ ТАБЛИЦА РАССТОЯНИЙ:")
    print("=" * 70)
    
    # Для вывода полной таблицы нужно было бы сохранить координаты домов
    # Но мы их не сохраняли, чтобы соответствовать условию "пошагового ввода без хранения"
    # Поэтому просто выведем статистику
    
    print(f"\nСтатистика по расстояниям:")
    print("-" * 70)
    print(f"Общая сумма расстояний: {total_distance:.4f}")
    print(f"Среднее арифметическое расстояние: {average_distance:.4f}")
    print(f"Минимальное расстояние: {min_distance:.4f}")
    print(f"Максимальное расстояние: {max_distance:.4f}")
    print(f"Размах расстояний: {max_distance - min_distance:.4f}")
    
    # Вывод информации о ближайших домах
    print(f"\nБлижайшие к школе дома ({len(closest_houses)}):")
    for house in closest_houses:
        i, xi, yi, dist = house
        print(f"  Дом №{i}: координаты ({xi}, {yi}), расстояние {dist:.4f}")
    
    # Вывод информации о самых дальних домах
    print(f"\nСамые дальние от школы дома ({len(farthest_houses)}):")
    for house in farthest_houses:
        i, xi, yi, dist = house
        print(f"  Дом №{i}: координаты ({xi}, {yi}), расстояние {dist:.4f}")
    
    # Анализ распределения
    print("\n" + "=" * 70)
    print("АНАЛИЗ РАСПРЕДЕЛЕНИЯ ДОМОВ:")
    print("-" * 70)
    
    # Чтобы проанализировать распределение, нужно было бы сохранить все расстояния
    # Для демонстрации просто выведем некоторые выводы
    
    if min_distance == max_distance:
        print("Все дома находятся на одинаковом расстоянии от школы.")
    elif max_distance / min_distance > 2:
        print("Есть значительный разброс в расстояниях до школы.")
        print(f"Самый дальний дом примерно в {max_distance/min_distance:.2f} раз дальше, чем ближайший.")
    else:
        print("Расстояния до школы распределены относительно равномерно.")
    
    # Практические рекомендации
    print("\n" + "=" * 70)
    print("ПРАКТИЧЕСКИЕ РЕКОМЕНДАЦИИ:")
    print("-" * 70)
    
    print("\n1. Организация школьных маршрутов:")
    if max_distance > 2000:  # предполагаем, что расстояния в метрах
        print("   Некоторые дома находятся далеко от школы (>2 км).")
        print("   Рекомендуется организовать школьные автобусы.")
    
    print("\n2. Зонирование микрорайона:")
    print(f"   Среднее расстояние до школы: {average_distance:.2f} м")
    
    if average_distance < 500:
        print("   Школа хорошо расположена - большинство домов в пешей доступности.")
    elif average_distance < 1000:
        print("   Школа расположена удовлетворительно - некоторым ученикам потребуется транспорт.")
    else:
        print("   Школа расположена неудачно - большинству учеников потребуется транспорт.")
    
    # Расчет времени пешком (предполагаем скорость 5 км/ч = 1.39 м/с)
    print(f"\n3. Расчет времени пути пешком (со скоростью 5 км/ч):")
    walking_speed = 1.39  # м/с
    avg_time_min = (average_distance / walking_speed) / 60
    max_time_min = (max_distance / walking_speed) / 60
    
    print(f"   Среднее время пути: {avg_time_min:.1f} минут")
    print(f"   Максимальное время пути: {max_time_min:.1f} минут")
    
    if max_time_min > 30:
        print("   Некоторым ученикам потребуется более 30 минут, чтобы дойти до школы.")
    
    # Визуализация (текстовая)
    print("\n" + "=" * 70)
    print("ТЕКСТОВАЯ ДИАГРАММА РАССТОЯНИЙ:")
    print("-" * 70)
    
    # Создаем простую диаграмму
    if min_distance > 0 and max_distance > min_distance:
        scale_length = 50
        
        print(f"\n{'Дом':>5} {'Расстояние':>12} {'Диаграмма':^50}")
        print("-" * 70)
        
        # Для отображения диаграммы нужно знать все расстояния
        # Но мы их не сохраняли. Можно предложить пользователю ввести их заново или вывести общую идею
        print("Для построения диаграммы нужно сохранять все расстояния.")
        print("Ниже приведена условная диаграмма распределения:")
        
        # Просто покажем шкалу
        print(f"\nШкала расстояний (от {min_distance:.2f} до {max_distance:.2f}):")
        print(f"{min_distance:.2f} " + "█" * scale_length + f" {max_distance:.2f}")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
