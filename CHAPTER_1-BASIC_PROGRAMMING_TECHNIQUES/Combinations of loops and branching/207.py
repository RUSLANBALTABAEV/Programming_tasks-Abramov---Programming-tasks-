"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
7. Сочетания цикла и разветвления

207. Дано натуральное число n. Выбросить из записи числа n
цифры 0 и 5, оставив прежним порядок остальных цифр. Например, из
числа 59015509 должно получиться 919.
"""

def remove_zero_and_five(n):
    """
    Удаляет из десятичной записи числа n все цифры 0 и 5,
    сохраняя порядок остальных цифр.
    Возвращает преобразованное число.
    """
    # Преобразуем число в строку для обработки цифр
    n_str = str(n)
    
    # Создаем новую строку, исключая цифры '0' и '5'
    result_str = ''.join(ch for ch in n_str if ch not in ('0', '5'))
    
    # Если после удаления осталась пустая строка, возвращаем 0
    if result_str == '':
        return 0
    
    # Преобразуем строку обратно в целое число
    return int(result_str)


def remove_zero_and_five_detailed(n):
    """
    Удаляет цифры 0 и 5 с подробным выводом каждого шага.
    Возвращает преобразованное число и строку с детальным описанием.
    """
    steps = []
    steps.append(f"1. Исходное число: {n}")
    
    # Разбиваем число на цифры
    digits = [int(d) for d in str(n)]
    steps.append(f"2. Цифры числа: {digits}")
    
    # Фильтруем цифры, удаляя 0 и 5
    filtered_digits = [d for d in digits if d not in (0, 5)]
    steps.append(f"3. Цифры после удаления 0 и 5: {filtered_digits}")
    
    # Собираем число из оставшихся цифр
    if not filtered_digits:
        result = 0
        steps.append("4. После удаления не осталось цифр, результат: 0")
    else:
        result = int(''.join(str(d) for d in filtered_digits))
        steps.append(f"4. Собираем число из оставшихся цифр: {result}")
    
    detailed_explanation = "\n".join(steps)
    return result, detailed_explanation


def main():
    """
    Основная функция программы с выбором режима работы:
    1. Использовать примеры из кода
    2. Ввести свое число
    """
    print("Программа удаления цифр 0 и 5 из числа")
    print("=" * 60)
    print("Удаляет все цифры 0 и 5 из десятичной записи числа,")
    print("сохраняя порядок остальных цифр.")
    print("=" * 60)
    
    choice = input("Выберите режим:\n1 - Использовать примеры из кода\n2 - Ввести свое число\nВведите 1 или 2: ")
    
    if choice == '1':
        # Используем примеры из кода
        examples = [
            ("Пример 1 (из условия)", 59015509),
            ("Пример 2", 1050),
            ("Пример 3 (все цифры 5)", 555),
            ("Пример 4 (нет цифр 0 и 5)", 123),
            ("Пример 5 (только 0 и 5)", 50050),
            ("Пример 6 (большое число)", 1234567890),
        ]
        
        for title, num in examples:
            print(f"\n{title}:")
            print(f"Исходное число: {num}")
            
            result = remove_zero_and_five(num)
            print(f"После удаления 0 и 5: {result}")
            
            # Для первого примера предлагаем показать детали
            if title == "Пример 1 (из условия)":
                detailed_choice = input("\nПоказать подробное решение для этого примера? (да/нет): ")
                if detailed_choice.lower() in ['да', 'д', 'yes', 'y']:
                    result_detailed, explanation = remove_zero_and_five_detailed(num)
                    print("\nПодробное решение:")
                    print(explanation)
            
            print("-" * 40)
    
    elif choice == '2':
        # Ввод данных от пользователя
        try:
            num = int(input("\nВведите натуральное число n: "))
            if num < 0:
                print("Ошибка: число должно быть натуральным (неотрицательным)!")
                return
            
            print(f"\nВведено число: {num}")
            
            # Вычисление результата
            result = remove_zero_and_five(num)
            print(f"После удаления цифр 0 и 5: {result}")
            
            # Предложение показать подробное решение
            detailed_choice = input("\nПоказать подробное решение? (да/нет): ")
            if detailed_choice.lower() in ['да', 'д', 'yes', 'y']:
                result_detailed, explanation = remove_zero_and_five_detailed(num)
                print("\nПодробное решение:")
                print(explanation)
        
        except ValueError:
            print("Ошибка ввода! Убедитесь, что вводите целое число.")
            return
    
    else:
        print("Неверный выбор. Программа завершена.")
        return
    
    # Дополнительные примеры и пояснения
    print("\n" + "=" * 60)
    print("ПОЯСНЕНИЕ РАБОТЫ АЛГОРИТМА:")
    print("=" * 60)
    print("Алгоритм выполняет следующие шаги:")
    print("1. Преобразует число в строку")
    print("2. Проходит по всем символам строки")
    print("3. Отбирает только символы, не равные '0' и '5'")
    print("4. Объединяет отобранные символы в новую строку")
    print("5. Преобразует строку обратно в число")
    print("=" * 60)
    
    # Альтернативные реализации
    print("\n" + "=" * 60)
    print("АЛЬТЕРНАТИВНЫЕ СПОСОБЫ РЕАЛИЗАЦИИ:")
    print("=" * 60)
    print("1. Через арифметические операции (без преобразования в строку):")
    print("   - Извлекаем цифры с помощью операций деления на 10")
    print("   - Сохраняем только цифры, не равные 0 и 5")
    print("   - Собираем новое число из сохраненных цифр")
    print()
    print("2. Рекурсивная реализация:")
    print("   - Обрабатываем последнюю цифру числа")
    print("   - Рекурсивно обрабатываем оставшуюся часть числа")
    print("   - Объединяем результаты")
    print("=" * 60)
    
    # Интерактивный режим с дополнительными примерами
    interactive_choice = input("\nПротестировать дополнительные примеры? (да/нет): ")
    if interactive_choice.lower() in ['да', 'д', 'yes', 'y']:
        test_examples = [0, 5, 10, 15, 50505, 123450, 999, 100200300]
        print("\n" + "=" * 60)
        print("ТЕСТИРОВАНИЕ ДОПОЛНИТЕЛЬНЫХ ПРИМЕРОВ:")
        print("=" * 60)
        for test_num in test_examples:
            result = remove_zero_and_five(test_num)
            print(f"{test_num:12} -> {result}")
        print("=" * 60)


if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
