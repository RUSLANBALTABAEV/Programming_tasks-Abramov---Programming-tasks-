"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
7. Сочетания цикла и разветвления

183. Даны натуральные числа n, p, целые числа a1, ..., an.
Получить произведение членов последовательности a1, … , an, кратных p.
"""


def main():
    # Ввод количества чисел
    n = int(input("Введите натуральное число n: "))
    
    if n <= 0:
        print("Ошибка: n должно быть натуральным числом!")
        return
    
    # Ввод числа p
    p = int(input("Введите натуральное число p: "))
    
    if p <= 0:
        print("Ошибка: p должно быть натуральным числом!")
        return
    
    # Ввод последовательности чисел
    numbers = []
    print(f"Введите {n} целых чисел:")
    for i in range(n):
        while True:
            try:
                num = int(input(f"a[{i+1}]: "))
                numbers.append(num)
                break
            except ValueError:
                print("Пожалуйста, введите целое число!")
    
    # Инициализация переменных
    product = 1  # начальное значение произведения
    count = 0    # счетчик чисел, кратных p
    multiples = []  # список чисел, кратных p (для отображения)
    
    # Проверка условия для каждого числа
    for i, num in enumerate(numbers, 1):
        # Проверяем, делится ли число на p (учитываем, что p натуральное)
        # Проверяем деление без остатка
        if p != 0 and num % p == 0:
            count += 1
            product *= num
            multiples.append(num)
    
    # Вывод результатов
    print("\nРезультаты:")
    if count > 0:
        print(f"Числа, кратные {p}: {multiples}")
        print(f"Количество чисел, кратных {p}: {count}")
        print(f"Произведение чисел, кратных {p}: {product}")
    else:
        print(f"В последовательности нет чисел, кратных {p}.")
        print(f"Произведение (согласно условию) = {product}")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
