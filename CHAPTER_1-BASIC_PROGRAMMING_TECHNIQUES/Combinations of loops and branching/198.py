"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
7. Сочетания цикла и разветвления

198.Даны натуральные числа n, b0, … , bn. Вычислить
f(b0)+f(b1)+ ... +f(bn), где

f(x) = x2, если x кратно 3,
f(x) = x, если x при делении на 3 дает остаток 1,
f(x) = abs(x/3) в остальных случаях.
"""


def f(x):
    """Вычисление функции f(x) согласно условию задачи"""
    if x % 3 == 0:           # x кратно 3
        return x ** 2
    elif x % 3 == 1:         # x при делении на 3 дает остаток 1
        return x
    else:                    # остаток 2
        return x // 3

def main():
    # Ввод натурального числа n
    n = int(input("Введите натуральное число n: "))
    
    if n < 0:
        print("Ошибка: n должно быть натуральным числом!")
        return
    
    # Ввод чисел b0, b1, ..., bn
    print(f"Введите {n+1} натуральных чисел b0, b1, ..., bn:")
    b = []
    for i in range(n + 1):
        while True:
            try:
                num = int(input(f"b[{i}]: "))
                if num >= 0:  # натуральные числа (включая 0)
                    b.append(num)
                    break
                else:
                    print("Число должно быть натуральным (неотрицательным)!")
            except ValueError:
                print("Пожалуйста, введите целое число!")
    
    # Вычисление суммы f(b_i)
    total_sum = 0
    for num in b:
        value = f(num)
        total_sum += value
    
    # Вывод результата
    print(f"\nСумма f(b0) + f(b1) + ... + f(b{n}) = {total_sum}")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
