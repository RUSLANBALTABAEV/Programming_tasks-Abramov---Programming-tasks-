"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
7. Сочетания цикла и разветвления

180. Дано натуральное число n. Получить сумму тех чисел вида i^3 - 3 * in ^ 2 + n * (i = 1,2, ..., n), которые являются утроенными нечетными *).
*) В ряде задач этого и следующих параграфов требуется вычислить сумму или произведение тех членов последовательности, которые обладают заданным свойством. Можно условиться, что при отсутствии таких членов искомая сумма равна нулю, а произведение - единице.
Можно усложнить условия задач, приняв соглашение, что в подобных случаях должно выдаваться сообщение об отсутствии соответствующих членов.
"""


def main():
    # Ввод натурального числа n
    n = int(input("Введите натуральное число n: "))
    
    if n <= 0:
        print("Ошибка: n должно быть натуральным числом!")
        return
    
    # Вычисление суммы чисел вида i^3 - 3in^2 + n, которые являются утроенными нечетными
    total_sum = 0
    found_numbers = []
    
    for i in range(1, n + 1):
        # Вычисляем значение по формуле
        a_i = i**3 - 3 * i * n**2 + n
        
        # Проверяем, является ли число утроенным нечетным
        # Утроенное нечетное число: 3 * (2k + 1) = 6k + 3
        # Это значит, что число должно делиться на 3 и результат деления на 3 должен быть нечетным
        
        if a_i % 3 == 0:  # Делится на 3
            quotient = a_i // 3
            if quotient % 2 != 0:  # Результат деления на 3 - нечетное число
                total_sum += a_i
                found_numbers.append(a_i)
    
    # Вывод результатов
    print(f"\nДля n = {n}:")
    
    if found_numbers:
        print("Найдены следующие утроенные нечетные числа:")
        for i, num in enumerate(found_numbers, 1):
            print(f"  a_{i} = {num}")
        
        print(f"\nИх сумма: {total_sum}")
    else:
        print("Нет чисел, являющихся утроенными нечетными.")
        print("Сумма (согласно условию): 0")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
