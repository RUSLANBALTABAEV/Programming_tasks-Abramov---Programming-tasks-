"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

301. Даны действительные числа x1, y1, x2, y2, …, x20, y20, r1, r2,…,
r11 (0 < r1 < r2 < … < r11). Пары (x1, y1), (x2, y2), …, (x20, y20) рассматриваются как координаты точек плоскости. Числа r1,…, r11
рассматриваются как радиусы одиннадцати полукругов в полуплоскости y>0 с центром в начале координат. Найти количество
точек, попадающих внутрь каждого полукруга (границы-полуокружности не принадлежат полукругам).
"""


import math
import random

def main():
    print("Программа для подсчета количества точек внутри полукругов в верхней полуплоскости.")
    print("Даны 20 точек (x_i, y_i) и 11 радиусов r_1 < r_2 < ... < r_11.")
    print("Для каждого радиуса подсчитывается количество точек с y>0 и x^2+y^2 < r^2.\n")
    
    # Выбор способа ввода данных
    print("Выберите способ задания данных:")
    print("1. Ввести все числа вручную")
    print("2. Сгенерировать случайные точки и радиусы")
    print("3. Использовать готовый демонстрационный набор")
    
    while True:
        try:
            choice = int(input("\nВаш выбор (1-3): "))
            if 1 <= choice <= 3:
                break
            else:
                print("Ошибка: введите число от 1 до 3.")
        except ValueError:
            print("Ошибка: введите целое число.")
    
    # Инициализация
    points = []  # список кортежей (x, y)
    radii = []   # список радиусов
    
    if choice == 1:
        # Ручной ввод точек
        print("\nВведите координаты 20 точек (x_i y_i через пробел или по отдельности):")
        for i in range(20):
            while True:
                try:
                    xy = input(f"Точка {i+1}: ").split()
                    if len(xy) != 2:
                        print("Ошибка: введите два числа.")
                        continue
                    x = float(xy[0])
                    y = float(xy[1])
                    points.append((x, y))
                    break
                except ValueError:
                    print("Ошибка: введите действительные числа.")
        
        # Ввод радиусов
        print("\nВведите 11 радиусов в порядке возрастания (r_1 < r_2 < ... < r_11):")
        radii = []
        prev = -float('inf')
        for i in range(11):
            while True:
                try:
                    r = float(input(f"r_{i+1}: "))
                    if r <= 0:
                        print("Ошибка: радиус должен быть положительным.")
                        continue
                    if r <= prev:
                        print("Ошибка: радиусы должны быть строго возрастающими.")
                        continue
                    radii.append(r)
                    prev = r
                    break
                except ValueError:
                    print("Ошибка: введите действительное число.")
    
    elif choice == 2:
        # Случайные данные
        random.seed()
        # Точки: координаты от -10 до 10
        for _ in range(20):
            x = random.uniform(-10, 10)
            y = random.uniform(-5, 15)  # чтобы были и положительные, и отрицательные
            points.append((x, y))
        # Радиусы: возрастающие от 1 до 20
        radii = sorted(random.sample(range(1, 21), 11))
        print("\nСгенерированы случайные точки и радиусы:")
        print("Точки (первые 5):", points[:5])
        print("Радиусы:", radii)
    
    elif choice == 3:
        # Демонстрационный набор
        points = [
            (2, 3), (-1, 4), (0, 5), (3, -2), (4, 1),
            (-2, 0), (5, 2), (1, 1), (-3, 6), (2, -1),
            (0, 0), (6, 3), (-4, 2), (3, 4), (-5, 1),
            (4, 5), (1, 7), (-2, 8), (7, 2), (0, 9)
        ]
        radii = [1.5, 2.5, 3.5, 4.5, 5.5, 6.5, 7.5, 8.5, 9.5, 10.5, 11.5]
        print("\nИспользуется демонстрационный набор точек и радиусов.")
    
    # Вывод исходных данных
    print("\n" + "="*60)
    print("Исходные данные:")
    print("Точки (x, y):")
    for i, (x, y) in enumerate(points, 1):
        print(f"  {i:2}: ({x:7.3f}, {y:7.3f})")
    print("Радиусы (в порядке возрастания):")
    for i, r in enumerate(radii, 1):
        print(f"  r_{i} = {r:.3f}")
    
    # Подсчет для каждого радиуса
    print("\n" + "="*60)
    print("Результаты:")
    print("Радиус | Количество точек внутри")
    print("-" * 30)
    
    for idx, r in enumerate(radii, 1):
        count = 0
        inside_points = []  # для демонстрации
        for (x, y) in points:
            if y > 0 and x*x + y*y < r*r:
                count += 1
                inside_points.append((x, y))
        print(f"r_{idx:2} = {r:6.3f} | {count:2} точек")
        # Опционально показать первые несколько точек внутри
        if count > 0:
            print(f"        Примеры: {inside_points[:3]}...")
    
    # Дополнительная информация: суммарное количество по всем радиусам?
    print("\nПримечание: подсчет выполнен строго по условию: y>0 и x^2+y^2 < r^2.")

if __name__ == "__main__":
    main()
    input("\nНажмите Enter, чтобы завершить программу.")
