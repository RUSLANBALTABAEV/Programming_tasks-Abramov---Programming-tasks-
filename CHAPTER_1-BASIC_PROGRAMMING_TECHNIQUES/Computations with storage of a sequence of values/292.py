"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

292. Даны действительные числа a1,…, a20. Преобразовать эту последовательность по правилу: большее из ai и a10+i (i = 1, …, 10)
принять в качестве нового значения ai , а меньшее – в качестве нового значения a10+i.
"""


import random

def main():
    print("Программа для преобразования последовательности из 20 чисел.")
    print("Правило: большее из a_i и a_{10+i} становится новым a_i,")
    print("меньшее становится новым a_{10+i} для i=1,...,10")
    
    # Выбор способа ввода данных
    print("\nВыберите способ задания последовательности:")
    print("1. Ввести числа вручную")
    print("2. Использовать готовый набор (1, 2, 3, ..., 20)")
    print("3. Использовать случайные числа от -100 до 100")
    print("4. Использовать специальный набор для демонстрации")
    
    while True:
        try:
            choice = int(input("\nВаш выбор (1-4): "))
            if 1 <= choice <= 4:
                break
            else:
                print("Ошибка: выберите число от 1 до 4.")
        except ValueError:
            print("Ошибка: введите целое число от 1 до 4.")
    
    # Инициализация последовательности в зависимости от выбора
    if choice == 1:
        # Ручной ввод
        print("\nВведите 20 действительных чисел:")
        a = []
        for i in range(20):
            while True:
                try:
                    value = float(input(f"a_{i+1}: "))
                    a.append(value)
                    break
                except ValueError:
                    print("Ошибка: введите действительное число.")
    
    elif choice == 2:
        # Готовый набор: 1, 2, 3, ..., 20
        a = [float(i) for i in range(1, 21)]
        print("\nИспользуется готовый набор: 1, 2, 3, ..., 20")
    
    elif choice == 3:
        # Случайные числа от -100 до 100
        random.seed()  # Инициализация генератора случайных чисел
        a = [random.uniform(-100, 100) for _ in range(20)]
        print("\nИспользуется набор случайных чисел от -100 до 100")
    
    elif choice == 4:
        # Специальный набор для демонстрации
        a = [10, 8, 6, 4, 2, 0, -2, -4, -6, -8,  # первая половина: убывающая
             1, 3, 5, 7, 9, 11, 13, 15, 17, 19]  # вторая половина: возрастающая
        print("\nИспользуется специальный демонстрационный набор:")
        print("Первая половина: убывающая последовательность (10, 8, ..., -8)")
        print("Вторая половина: возрастающая последовательность (1, 3, ..., 19)")
    
    # Вывод исходной последовательности
    print("\nИсходная последовательность:")
    print("Первая половина | Вторая половина")
    print("-" * 40)
    for i in range(10):
        print(f"a_{i+1:2} = {a[i]:8.3f} | a_{i+11:2} = {a[i+10]:8.3f}")
    
    # Преобразование
    print("\nВыполняем преобразование...")
    changes_made = 0
    for i in range(10):  # i = 0..9 соответствует индексам 0-9
        current_a_i = a[i]
        current_a_10_i = a[10 + i]
        
        if current_a_i > current_a_10_i:
            # a_i уже больше, оставляем как есть
            a[i] = current_a_i
            a[10 + i] = current_a_10_i
        else:
            # a_i не больше, значит a_{10+i} больше или равно
            a[i] = current_a_10_i  # большее становится новым a_i
            a[10 + i] = current_a_i  # меньшее становится новым a_{10+i}
            changes_made += 1
    
    # Вывод преобразованной последовательности
    print("\nПреобразованная последовательность:")
    print("i   | Новая a_i   | Новая a_{10+i} | Изменение")
    print("-" * 60)
    
    for i in range(10):
        original_first = a[i] if choice != 1 else "?"
        original_second = a[10+i] if choice != 1 else "?"
        changed = "Да" if (choice == 1 or changes_made > 0) else "Нет" if i < changes_made else "Нет"
        print(f"{i+1:2}  | {a[i]:10.4f}   | {a[10+i]:13.4f} | {changed}")
    
    # Полная последовательность
    print("\nПолная преобразованная последовательность:")
    print("Первая половина | Вторая половина")
    print("-" * 40)
    for i in range(10):
        print(f"a_{i+1:2} = {a[i]:8.3f} | a_{i+11:2} = {a[i+10]:8.3f}")
    
    # Статистика
    print(f"\nСтатистика:")
    print(f"Количество измененных пар: {changes_made} из 10")
    print(f"Среднее значение первой половины: {sum(a[:10])/10:.3f}")
    print(f"Среднее значение второй половины: {sum(a[10:])/10:.3f}")
    print(f"Общее среднее: {sum(a)/20:.3f}")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
