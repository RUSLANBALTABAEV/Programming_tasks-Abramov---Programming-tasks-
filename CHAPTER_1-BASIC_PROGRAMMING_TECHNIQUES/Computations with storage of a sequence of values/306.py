"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

306. Даны натуральные числа x1, y1, x2, y2,…, xn, yn. Числа xi, yi являются координатами точек. Построить на экране точки, заданные последовательностью x1, y1, x2, y2,…, xn, yn, а затем удалить их. Процесс построения должен начинаться точкой с номером 1 и заканчиваться точкой с номером n; процесс удаления точек должен происходить в обратном порядке – начинаться точкой с номером n и заканчиваться точкой с номером 1.
"""


import turtle
import random
import time

def main():
    print("Программа для построения и удаления точек на экране.")
    print("Точки задаются парами координат (x, y).")
    print("Сначала они появляются в порядке от 1 до n, затем исчезают в обратном порядке.")
    
    # Выбор способа ввода
    print("\nВыберите способ задания точек:")
    print("1. Ввести координаты вручную")
    print("2. Сгенерировать случайные точки")
    print("3. Использовать готовый пример")
    
    while True:
        try:
            choice = int(input("\nВаш выбор (1-3): "))
            if 1 <= choice <= 3:
                break
            else:
                print("Ошибка: введите 1, 2 или 3.")
        except ValueError:
            print("Ошибка: введите целое число.")
    
    if choice == 1:
        # Ручной ввод
        while True:
            try:
                n = int(input("Введите количество точек n: "))
                if n > 0:
                    break
                else:
                    print("Ошибка: n должно быть положительным.")
            except ValueError:
                print("Ошибка: введите целое число.")
        
        points = []
        print("Введите координаты x y через пробел для каждой точки:")
        for i in range(n):
            while True:
                try:
                    coords = input(f"Точка {i+1}: ").split()
                    if len(coords) != 2:
                        print("Ошибка: введите два числа.")
                        continue
                    x = float(coords[0])
                    y = float(coords[1])
                    points.append((x, y))
                    break
                except ValueError:
                    print("Ошибка: введите числа.")
    
    elif choice == 2:
        # Случайные точки
        n = random.randint(5, 15)
        points = []
        for _ in range(n):
            x = random.randint(-200, 200)
            y = random.randint(-200, 200)
            points.append((x, y))
        print(f"Сгенерировано {n} случайных точек.")
    
    else:
        # Готовые примеры
        examples = [
            [(50, 50), (100, 100), (150, 50), (200, 150), (250, 100)],
            [(-100, -100), (-50, -50), (0, 0), (50, 50), (100, 100)],
            [(30, 120), (80, 80), (130, 180), (180, 60), (230, 140), (280, 200)]
        ]
        print("Выберите готовый набор:")
        for idx, ex in enumerate(examples, 1):
            print(f"{idx}. {ex}")
        while True:
            try:
                ex_choice = int(input("Ваш выбор (1-3): "))
                if 1 <= ex_choice <= 3:
                    points = examples[ex_choice-1]
                    n = len(points)
                    break
                else:
                    print("Ошибка: введите 1-3.")
            except ValueError:
                print("Ошибка: введите целое число.")
    
    # Настройка экрана turtle
    screen = turtle.Screen()
    screen.setup(width=800, height=600)
    screen.bgcolor("white")
    screen.title("Построение и удаление точек")
    
    # Создаем черепаху
    t = turtle.Turtle()
    t.speed(5)
    t.hideturtle()
    t.penup()
    
    # Функция рисования точки
    def draw_point(x, y, color="blue", size=10):
        t.goto(x, y)
        t.dot(size, color)
    
    # Функция стирания точки (рисуем белым)
    def erase_point(x, y, size=10):
        t.goto(x, y)
        t.dot(size, "white")
    
    # Масштабирование, если нужно (можно оставить как есть)
    # Но чтобы точки помещались, можно просто использовать их координаты,
    # предполагая, что они в разумных пределах. Если нет, можно масштабировать.
    # Для простоты оставим как есть.
    
    # Построение точек в прямом порядке
    print("\nПостроение точек...")
    for i, (x, y) in enumerate(points, 1):
        draw_point(x, y, "blue")
        t.write(f" {i}", font=("Arial", 10, "normal"))
        time.sleep(0.5)  # пауза для наблюдения
        screen.update()
    
    time.sleep(1)  # пауза перед удалением
    
    # Удаление точек в обратном порядке
    print("Удаление точек в обратном порядке...")
    for i, (x, y) in enumerate(reversed(points), 1):
        erase_point(x, y)
        # Можно также стереть подпись, но подпись рисуется текстом, его сложнее стереть.
        # Для простоты оставим как есть, или можно перезаписать белым текстом.
        # Запишем белым текст поверх:
        t.goto(x, y-15)  # чуть ниже точки
        t.dot(1, "white")  # маленькая точка для очистки места под текст? Не идеально.
        # Альтернатива: не писать номера при удалении.
        # Просто удаляем точку.
        time.sleep(0.5)
        screen.update()
    
    print("Процесс завершен. Нажмите на окне для выхода.")
    screen.exitonclick()

if __name__ == "__main__":
    main()
