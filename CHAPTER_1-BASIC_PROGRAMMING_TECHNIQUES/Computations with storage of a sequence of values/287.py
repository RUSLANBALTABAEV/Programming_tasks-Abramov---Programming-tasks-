"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

287. Даны целые числа a1, …, an. Все члены последовательности с четными номерами, предшествующие первому по порядку члену со значением max(a1, …, an), домножить на max(a1, …, an).
"""


def main():
    # Ввод количества элементов
    n = int(input("Введите количество элементов n: "))
    
    # Ввод последовательности целых чисел
    a = []
    for i in range(n):
        while True:
            try:
                value = int(input(f"Введите целое число a_{i+1}: "))
                a.append(value)
                break
            except ValueError:
                print("Ошибка: введите целое число.")

    # Находим максимальное значение
    max_val = max(a)
    print(f"\nМаксимальное значение в последовательности: {max_val}")

    # Находим индекс первого вхождения максимального элемента
    first_max_index = -1
    for i in range(n):
        if a[i] == max_val:
            first_max_index = i
            break

    print(f"Первый максимальный элемент находится на позиции {first_max_index + 1} (индекс {first_max_index})")

    # Домножаем элементы с четными номерами, предшествующие первому максимальному
    # Нумерация с 1, поэтому четный номер соответствует индексу i, где (i+1) % 2 == 0
    for i in range(first_max_index):  # только до first_max_index, не включая его
        if (i + 1) % 2 == 0:  # проверяем, четный ли номер (индекс i соответствует номеру i+1)
            a[i] *= max_val

    # Вывод результата
    print(f"\nИзмененная последовательность:")
    for i in range(n):
        print(f"a_{i+1} = {a[i]}")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
