"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

304. Даны действительные числа a1, …,a16. Переставить члены последовательности a1, …, a16 так, чтобы сначала расположились все ее неотрицательные члены, а потом – все отрицательные. Иначе говоря, после перестановки должно найтись такое k, что 1 <= k <= 16, и если i <= k, то ai >= 0; если i > k, то ai < 0 (i = 1, ..., 16). Порядок как среди неотрицательных членов, так и среди отрицательных должен быть сохранен прежним.
"""


import random

def main():
    print("Программа переставляет элементы последовательности:")
    print("сначала все неотрицательные (>=0) в исходном порядке, затем все отрицательные.")
    
    # Выбор способа ввода
    print("\nВыберите способ задания последовательности:")
    print("1. Ввести числа вручную")
    print("2. Сгенерировать случайные числа от -10 до 10")
    print("3. Использовать готовые наборы")
    
    while True:
        try:
            choice = int(input("\nВаш выбор (1-3): "))
            if 1 <= choice <= 3:
                break
            else:
                print("Ошибка: введите 1, 2 или 3.")
        except ValueError:
            print("Ошибка: введите целое число.")
    
    n = 16
    if choice == 1:
        # Ручной ввод
        a = []
        print(f"\nВведите {n} действительных чисел:")
        for i in range(n):
            while True:
                try:
                    val = float(input(f"a_{i+1}: "))
                    a.append(val)
                    break
                except ValueError:
                    print("Ошибка: введите действительное число.")
    
    elif choice == 2:
        # Случайные числа
        random.seed()
        a = [random.uniform(-10, 10) for _ in range(n)]
        print("\nСгенерированы случайные числа:")
        for i, val in enumerate(a, 1):
            print(f"a_{i} = {val:.4f}")
    
    else:
        # Готовые наборы
        examples = [
            [1, 2, -3, 4, -5, 6, -7, 8, -9, 10, -11, 12, -13, 14, -15, 16],
            [-1, -2, -3, -4, -5, -6, -7, -8, -9, -10, -11, -12, -13, -14, -15, -16],
            [0, 0, 0, 1, 2, 3, -1, -2, -3, 4, 5, -4, -5, 6, 7, -6],
            [1.5, -2.3, 0.0, 4.7, -5.1, 3.2, -0.8, 2.4, -3.6, 5.8, -1.9, 0.1, -7.2, 8.4, -9.1, 10.0]
        ]
        print("\nВыберите готовый набор:")
        for idx, ex in enumerate(examples, 1):
            print(f"{idx}. {ex[:5]}... (всего {len(ex)} элементов)")
        while True:
            try:
                ex_choice = int(input("Ваш выбор (1-4): "))
                if 1 <= ex_choice <= 4:
                    a = examples[ex_choice-1]
                    break
                else:
                    print("Ошибка: введите число от 1 до 4.")
            except ValueError:
                print("Ошибка: введите целое число.")
    
    # Исходная последовательность
    print("\nИсходная последовательность:")
    for i, val in enumerate(a, 1):
        print(f"a_{i} = {val:8.4f}")
    
    # Разделение на неотрицательные и отрицательные с сохранением порядка
    non_neg = [x for x in a if x >= 0]
    neg = [x for x in a if x < 0]
    
    k = len(non_neg)
    
    # Результирующая последовательность
    b = non_neg + neg
    
    print("\nПреобразованная последовательность:")
    for i, val in enumerate(b, 1):
        print(f"b_{i} = {val:8.4f}")
    
    print(f"\nКоличество неотрицательных членов: k = {k}")
    print("Порядок внутри групп сохранён.")
    
    # Проверка
    if all(x >= 0 for x in b[:k]) and all(x < 0 for x in b[k:]):
        print("Проверка пройдена: условие выполнено.")
    else:
        print("Ошибка: условие не выполнено.")

if __name__ == "__main__":
    main()
    input("\nНажмите Enter, чтобы завершить программу.")
