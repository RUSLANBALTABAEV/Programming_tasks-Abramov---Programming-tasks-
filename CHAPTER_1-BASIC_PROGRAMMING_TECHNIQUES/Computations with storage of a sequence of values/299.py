"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

299. Даны действительные числа a1, …, a26. Требуется домножить все члены последовательности a1, …, a26 на квадрат ее наименьшего члена, если a1 ≥0, и на квадрат ее наибольшего члена, если a1 < 0.
"""


import random

def main():
    print("Программа для домножения последовательности на квадрат минимального или максимального элемента.")
    print("Условие: если a1 ≥ 0, то домножить все члены на квадрат наименьшего члена,")
    print("иначе (если a1 < 0) домножить на квадрат наибольшего члена.")
    
    # Выбор способа ввода данных
    print("\nВыберите способ задания последовательности:")
    print("1. Ввести числа вручную")
    print("2. Использовать случайные числа от -50 до 50")
    print("3. Использовать готовый набор 1: все положительные (включая a1 ≥ 0)")
    print("4. Использовать готовый набор 2: a1 отрицательный")
    print("5. Использовать готовый набор 3: смешанные числа")
    
    while True:
        try:
            choice = int(input("\nВаш выбор (1-5): "))
            if 1 <= choice <= 5:
                break
            else:
                print("Ошибка: выберите число от 1 до 5.")
        except ValueError:
            print("Ошибка: введите целое число от 1 до 5.")
    
    n = 26  # количество элементов по условию
    
    # Инициализация последовательности в зависимости от выбора
    if choice == 1:
        # Ручной ввод
        print(f"\nВведите {n} действительных чисел:")
        a = []
        for i in range(n):
            while True:
                try:
                    value = float(input(f"a_{i+1}: "))
                    a.append(value)
                    break
                except ValueError:
                    print("Ошибка: введите действительное число.")
    
    elif choice == 2:
        # Случайные числа от -50 до 50
        random.seed()
        a = [random.uniform(-50, 50) for _ in range(n)]
        print(f"\nИспользуется набор из {n} случайных чисел от -50 до 50")
    
    elif choice == 3:
        # Готовый набор 1: все положительные (a1 ≥ 0)
        a = [float(i) for i in range(1, n+1)]
        print("\nИспользуется готовый набор 1: все положительные числа (1, 2, ..., 26)")
    
    elif choice == 4:
        # Готовый набор 2: a1 отрицательный
        a = [-10.5] + [random.uniform(-30, 50) for _ in range(n-1)]
        print("\nИспользуется готовый набор 2: a1 отрицательный (-10.5), остальные случайные")
    
    elif choice == 5:
        # Готовый набор 3: смешанные числа
        a = [5.5, -2.3, 8.1, -4.7, 0, 12.6, -9.8, 3.4, -1.2, 7.9,
             10.3, -6.5, 2.8, -3.9, 11.4, -8.7, 4.2, -5.6, 9.1, -7.3,
             1.5, -0.8, 13.7, -11.9, 6.4, -12.5]
        print("\nИспользуется готовый набор 3: смешанные положительные и отрицательные числа")
    
    # Вывод исходной последовательности
    print("\nИсходная последовательность:")
    for i in range(n):
        print(f"a_{i+1:2} = {a[i]:10.4f}")
    
    # Находим минимальный и максимальный элементы
    min_val = min(a)
    max_val = max(a)
    print(f"\nНаименьший член последовательности: {min_val:.6f}")
    print(f"Наибольший член последовательности: {max_val:.6f}")
    
    # Проверяем условие по a1
    a1 = a[0]
    print(f"Первый член последовательности a1 = {a1:.6f}")
    
    if a1 >= 0:
        multiplier = min_val ** 2
        condition = "a1 ≥ 0"
        action = f"квадрат наименьшего члена: ({min_val:.6f})² = {multiplier:.6f}"
    else:
        multiplier = max_val ** 2
        condition = "a1 < 0"
        action = f"квадрат наибольшего члена: ({max_val:.6f})² = {multiplier:.6f}"
    
    print(f"\nУсловие: {condition}, поэтому домножаем все члены на {action}")
    
    # Домножаем все элементы на множитель
    b = [x * multiplier for x in a]
    
    # Выводим результаты
    print("\nРезультаты домножения:")
    print("i   |    Исходное a_i    |    Множитель    |    Новое значение")
    print("-" * 70)
    
    # Выводим первые 10 и последние 5 элементов для компактности
    for i in range(10):
        print(f"{i+1:2}  | {a[i]:16.6f}  | {multiplier:14.6f}  | {b[i]:16.6f}")
    
    print("...")
    
    for i in range(n-5, n):
        print(f"{i+1:2}  | {a[i]:16.6f}  | {multiplier:14.6f}  | {b[i]:16.6f}")
    
    # Дополнительная информация
    print("\n" + "="*70)
    print("Дополнительная информация:")
    print(f"Исходная последовательность:")
    print(f"  Сумма: {sum(a):.6f}")
    print(f"  Среднее: {sum(a)/n:.6f}")
    print(f"  Минимум: {min_val:.6f}")
    print(f"  Максимум: {max_val:.6f}")
    
    print(f"\nПосле преобразования:")
    print(f"  Сумма: {sum(b):.6f}")
    print(f"  Среднее: {sum(b)/n:.6f}")
    print(f"  Минимум: {min(b):.6f}")
    print(f"  Максимум: {max(b):.6f}")
    
    # Отношение сумм
    if sum(a) != 0:
        ratio = sum(b) / sum(a)
        print(f"\nОтношение суммы новой последовательности к исходной: {ratio:.6f}")
    else:
        print(f"\nСумма исходной последовательности равна 0")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
