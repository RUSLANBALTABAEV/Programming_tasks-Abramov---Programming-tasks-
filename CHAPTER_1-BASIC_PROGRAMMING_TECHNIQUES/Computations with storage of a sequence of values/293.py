"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

293. Даны целые числа a1 ,…, an. Если в данной последовательности ни одно четное число не расположено после нечетного, то получить все отрицательные члены последовательности, иначе – все положительные. Порядок следования чисел в обоих случаях заменяется на обратный.
"""


import random

def main():
    print("Программа для обработки последовательности целых чисел.")
    print("Условие: если в последовательности ни одно четное число не расположено после нечетного,")
    print("то вывести все отрицательные члены в обратном порядке,")
    print("иначе вывести все положительные члены в обратном порядке.")
    
    # Выбор способа ввода данных
    print("\nВыберите способ задания последовательности:")
    print("1. Ввести числа вручную")
    print("2. Использовать случайные числа от -20 до 20")
    print("3. Использовать готовый набор 1: только четные, затем нечетные")
    print("4. Использовать готовый набор 2: нечетные и четные вперемешку")
    print("5. Использовать готовый набор 3: все отрицательные числа")
    
    while True:
        try:
            choice = int(input("\nВаш выбор (1-5): "))
            if 1 <= choice <= 5:
                break
            else:
                print("Ошибка: выберите число от 1 до 5.")
        except ValueError:
            print("Ошибка: введите целое число от 1 до 5.")
    
    # Ввод количества элементов
    if choice == 1:
        n = int(input("Введите количество элементов n: "))
    else:
        n = 10  # для не-ручного ввода используем 10 элементов
    
    # Инициализация последовательности в зависимости от выбора
    if choice == 1:
        # Ручной ввод
        print(f"\nВведите {n} целых чисел:")
        a = []
        for i in range(n):
            while True:
                try:
                    value = int(input(f"a_{i+1}: "))
                    a.append(value)
                    break
                except ValueError:
                    print("Ошибка: введите целое число.")
    
    elif choice == 2:
        # Случайные числа от -20 до 20
        random.seed()
        a = [random.randint(-20, 20) for _ in range(n)]
        print(f"\nИспользуется набор из {n} случайных чисел от -20 до 20")
    
    elif choice == 3:
        # Готовый набор: только четные, затем нечетные
        a = [2, 4, 6, 8, 10, 1, 3, 5, 7, 9]
        print("\nИспользуется готовый набор: четные, затем нечетные (условие выполнено)")
    
    elif choice == 4:
        # Готовый набор: нечетные и четные вперемешку
        a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
        print("\nИспользуется готовый набор: нечетные и четные вперемешку (условие НЕ выполнено)")
    
    elif choice == 5:
        # Готовый набор: все отрицательные числа
        a = [-5, -4, -3, -2, -1, -10, -9, -8, -7, -6]
        print("\nИспользуется готовый набор: все отрицательные числа")
    
    # Вывод исходной последовательности
    print("\nИсходная последовательность:")
    for i in range(len(a)):
        parity = "чет" if a[i] % 2 == 0 else "нечет"
        sign = "положит" if a[i] > 0 else "отрицат" if a[i] < 0 else "ноль"
        print(f"a_{i+1:2} = {a[i]:4} ({parity}, {sign})")
    
    # Проверка условия: ни одно четное число не расположено после нечетного
    condition_met = True
    print("\nПроверка условия: 'ни одно четное число не расположено после нечетного'")
    
    for i in range(len(a) - 1):
        current_odd = (a[i] % 2 != 0)  # текущее число нечетное
        next_even = (a[i + 1] % 2 == 0)  # следующее число четное
        if current_odd and next_even:
            condition_met = False
            print(f"  Найдено нарушение: a_{i+1}={a[i]} (нечетное), a_{i+2}={a[i+1]} (четное)")
            break
    
    if condition_met:
        print("  Условие ВЫПОЛНЕНО: нет четных чисел после нечетных")
    else:
        print("  Условие НЕ ВЫПОЛНЕНО: есть четные числа после нечетных")
    
    # Формируем результат
    if condition_met:
        # Выбираем отрицательные числа
        selected = [x for x in a if x < 0]
        print("\nУсловие выполнено -> выбираем ОТРИЦАТЕЛЬНЫЕ числа:")
        print(f"  Найдено {len(selected)} отрицательных чисел: {selected}")
    else:
        # Выбираем положительные числа
        selected = [x for x in a if x > 0]
        print("\nУсловие не выполнено -> выбираем ПОЛОЖИТЕЛЬНЫЕ числа:")
        print(f"  Найдено {len(selected)} положительных чисел: {selected}")
    
    # Разворачиваем порядок
    result = list(reversed(selected))
    
    # Вывод результата
    if result:
        print(f"\nРезультат (в обратном порядке): {result}")
        print("\nПоэлементно:")
        for i, val in enumerate(result, 1):
            print(f"b_{i} = {val}")
    else:
        print("\nРезультат: пустая последовательность")
    
    # Дополнительная информация
    print("\n" + "="*50)
    print("Дополнительная информация:")
    print(f"Количество элементов: {len(a)}")
    print(f"Количество четных чисел: {sum(1 for x in a if x % 2 == 0)}")
    print(f"Количество нечетных чисел: {sum(1 for x in a if x % 2 != 0)}")
    print(f"Количество положительных чисел: {sum(1 for x in a if x > 0)}")
    print(f"Количество отрицательных чисел: {sum(1 for x in a if x < 0)}")
    print(f"Количество нулей: {sum(1 for x in a if x == 0)}")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
