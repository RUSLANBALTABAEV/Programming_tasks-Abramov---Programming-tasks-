"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

291. Даны действительные числа a1 ,…, a30. Получить: 
а) max (a1+ a30, a2+ a29,…, a15+ a16);
б) min (a1a16, a2a17,…, a15a30)
"""


import random

def main():
    print("Программа для вычисления задач с последовательностью из 30 действительных чисел.")
    print("\nВыберите способ задания последовательности:")
    print("1. Ввести числа вручную")
    print("2. Использовать готовый набор (1, 2, 3, ..., 30)")
    print("3. Использовать случайные числа от -50 до 50")
    print("4. Использовать готовый набор из условия задачи")
    
    while True:
        try:
            choice = int(input("\nВаш выбор (1-4): "))
            if 1 <= choice <= 4:
                break
            else:
                print("Ошибка: выберите число от 1 до 4.")
        except ValueError:
            print("Ошибка: введите целое число от 1 до 4.")
    
    # Инициализация последовательности в зависимости от выбора
    if choice == 1:
        # Ручной ввод
        a = []
        print("\nВведите 30 действительных чисел:")
        for i in range(30):
            while True:
                try:
                    value = float(input(f"a_{i+1}: "))
                    a.append(value)
                    break
                except ValueError:
                    print("Ошибка: введите действительное число.")
    
    elif choice == 2:
        # Готовый набор: 1, 2, 3, ..., 30
        a = [float(i) for i in range(1, 31)]
        print("\nИспользуется готовый набор: 1, 2, 3, ..., 30")
    
    elif choice == 3:
        # Случайные числа от -50 до 50
        random.seed()  # Инициализация генератора случайных чисел
        a = [random.uniform(-50, 50) for _ in range(30)]
        print("\nИспользуется набор случайных чисел от -50 до 50")
    
    elif choice == 4:
        # Готовый набор из условия задачи (примерный)
        a = [1.5, -2.3, 4.7, -5.1, 3.2, 0.8, -1.9, 2.4, -3.6, 5.8,
             2.1, -4.5, 6.3, -7.2, 8.4, 1.7, -2.8, 3.9, -4.2, 5.6,
             0.5, -1.3, 2.7, -3.1, 4.9, -5.4, 6.8, -7.5, 8.2, -9.1]
        print("\nИспользуется готовый набор из условия задачи")
    
    # Вывод последовательности
    print("\nПоследовательность a:")
    for i in range(30):
        if i % 5 == 0 and i != 0:
            print()
        print(f"a_{i+1:2} = {a[i]:7.3f}", end=" | ")
    print("\n")
    
    # а) max(a1 + a30, a2 + a29, ..., a15 + a16)
    sums = []
    print("Вычисляем суммы для части (а):")
    for i in range(15):
        s = a[i] + a[29 - i]
        sums.append(s)
        print(f"a_{i+1} + a_{30-i} = {a[i]:.3f} + {a[29-i]:.3f} = {s:.3f}")
    
    max_sum = max(sums)
    print(f"\nМаксимальная сумма: {max_sum:.6f}")
    
    # б) min(a1*a16, a2*a17, ..., a15*a30)
    products = []
    print("\nВычисляем произведения для части (б):")
    for i in range(15):
        p = a[i] * a[15 + i]
        products.append(p)
        print(f"a_{i+1} * a_{16+i} = {a[i]:.3f} * {a[15+i]:.3f} = {p:.3f}")
    
    min_product = min(products)
    print(f"\nМинимальное произведение: {min_product:.6f}")
    
    # Дополнительная информация
    print("\n" + "="*50)
    print("Дополнительная информация:")
    print(f"Среднее значение последовательности: {sum(a)/30:.6f}")
    print(f"Минимальный элемент: {min(a):.6f}")
    print(f"Максимальный элемент: {max(a):.6f}")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
