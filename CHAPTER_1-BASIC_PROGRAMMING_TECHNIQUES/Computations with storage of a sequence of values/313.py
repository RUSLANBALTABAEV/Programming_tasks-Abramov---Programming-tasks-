"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

313. Даны символы s1, …, sn. Если последовательность s1,…, sn является палиндромом , т.е. s1 = sn, s2 = sn – 1, …, то оставить ее без изменения, иначе получить последовательность s1, s2,…, sn – 1, sn, sn – 1, …, s2, s1.
"""


def main():
    print("Задача 313. Проверка на палиндром.")
    print("Если строка является палиндромом, она остаётся без изменений.")
    print("Иначе к ней добавляется её обратная часть без последнего символа.")
    
    # Выбор способа ввода
    print("\nВыберите способ задания строки:")
    print("1. Ввести строку вручную")
    print("2. Использовать готовый пример")
    
    while True:
        try:
            choice = int(input("Ваш выбор (1-2): "))
            if choice in (1, 2):
                break
            else:
                print("Ошибка: введите 1 или 2.")
        except ValueError:
            print("Ошибка: введите целое число.")
    
    if choice == 1:
        s = input("Введите строку символов: ")
    else:
        examples = [
            "abcba",          # палиндром
            "abccba",         # палиндром
            "hello",          # не палиндром
            "12321",          # палиндром
            "racecar",        # палиндром
            "python",         # не палиндром
            "a",              # палиндром
            ""                # пустая строка (считается палиндромом)
        ]
        print("Выберите пример:")
        for i, ex in enumerate(examples, 1):
            print(f"{i}. '{ex}'")
        while True:
            try:
                ex_choice = int(input("Номер примера (1-8): "))
                if 1 <= ex_choice <= len(examples):
                    s = examples[ex_choice-1]
                    break
                else:
                    print(f"Ошибка: введите число от 1 до {len(examples)}.")
            except ValueError:
                print("Ошибка: введите целое число.")
    
    print(f"\nИсходная строка: '{s}'")
    
    # Проверка на палиндром
    if s == s[::-1]:
        print("Это палиндром. Строка без изменений.")
        result = s
    else:
        print("Это не палиндром. Строим отражённую строку.")
        result = s + s[-2::-1]  # s без последнего символа в обратном порядке
        # Альтернатива: s + s[:-1][::-1]
    
    print(f"Результат: '{result}'")
    
    # Посимвольный вывод
    print("\nПосимвольно:")
    for i, ch in enumerate(result, 1):
        print(f"{i}: {ch}")

if __name__ == "__main__":
    main()
    input("\nНажмите Enter, чтобы завершить программу.")
