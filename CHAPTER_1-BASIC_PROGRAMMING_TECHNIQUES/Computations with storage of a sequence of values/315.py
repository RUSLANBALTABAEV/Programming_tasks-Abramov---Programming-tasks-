"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

315. Даны символы s1, …, s80. Определить количество неверных
равенств среди:
а) s1 = s41, s2 = s42, ..., s40 = s80;
б) s1 = s80, s2 = s79, ..., s40 = s41.
"""


def main():
    print("Задача 315. Подсчёт неверных равенств в последовательности из 80 символов.")
    print("а) Сравнение первой половины со второй в прямом порядке: s1=s41, ..., s40=s80")
    print("б) Сравнение первой половины со второй в обратном порядке: s1=s80, ..., s40=s41")

    # Выбор способа ввода
    print("\nВыберите способ задания строки:")
    print("1. Ввести строку вручную (ровно 80 символов)")
    print("2. Использовать готовый пример")

    while True:
        try:
            choice = int(input("Ваш выбор (1-2): "))
            if choice in (1, 2):
                break
            else:
                print("Ошибка: введите 1 или 2.")
        except ValueError:
            print("Ошибка: введите целое число.")

    s = ""
    if choice == 1:
        while True:
            s = input("Введите строку из 80 символов: ")
            if len(s) == 80:
                break
            else:
                print(f"Ошибка: длина строки должна быть 80, а у вас {len(s)}. Попробуйте снова.")
    else:
        # Готовые примеры
        examples = [
            ("A" * 40 + "A" * 40, "Все символы одинаковы (все равенства верны)"),
            ("A" * 40 + "B" * 40, "Первая половина A, вторая B — все равенства а) неверны, б) тоже неверны, кроме? Проверим: для б) s1=A, s80=B -> не равно, и так далее. Все неверны."),
            ("A" * 40 + "A" * 40, "Другой пример с чередованием? Создадим строку, где половины равны в прямом порядке, но не в обратном."),
        ]
        # Создадим несколько примеров:
        # Пример 1: все A — оба счёта 0
        ex1 = "A" * 80
        # Пример 2: первые 40 A, вторые 40 B — все неверны для а) (40), для б) тоже все неверны? Проверим: s1=A, s80=B -> неверно; s40=A, s41=B -> неверно. Все 40 неверны.
        ex2 = "A" * 40 + "B" * 40
        # Пример 3: палиндром: первые 40 зеркальны последним? Например, строка "AB" повторенная? Пусть s[i] = chr(ord('a')+i) для i=0..39, и для второй половины s[79-i] = то же самое. Тогда для б) все верны, для а) все неверны.
        first = ''.join(chr(ord('a') + i % 26) for i in range(40))
        second = first[::-1]  # обратный порядок
        ex3 = first + second  # тогда для б) s[i] == s[79-i] выполняется, для а) нет.
        # Пример 4: случайная строка
        import random
        random.seed(42)
        ex4 = ''.join(random.choice("ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789") for _ in range(80))

        examples = [
            (ex1, "Все символы 'A'"),
            (ex2, "Первые 40 'A', вторые 40 'B'"),
            (ex3, "Первые 40 — возрастающие буквы, вторые 40 — их обратный порядок"),
            (ex4, "Случайная строка из букв и цифр")
        ]

        print("Выберите готовый пример:")
        for i, (ex, desc) in enumerate(examples, 1):
            print(f"{i}. {desc}")
            print(f"   Строка: {ex[:20]}... (длина {len(ex)})")
        while True:
            try:
                ex_choice = int(input("Номер примера (1-4): "))
                if 1 <= ex_choice <= len(examples):
                    s = examples[ex_choice-1][0]
                    break
                else:
                    print("Ошибка: введите число от 1 до 4.")
            except ValueError:
                print("Ошибка: введите целое число.")

    print(f"\nИсходная строка (длина {len(s)}):")
    # Для удобства выведем по 40 символов в строке
    print("Первые 40: " + s[:40])
    print("Вторые 40: " + s[40:])

    # Подсчёт для а)
    count_a = 0
    for i in range(40):
        if s[i] != s[i+40]:
            count_a += 1

    # Подсчёт для б)
    count_b = 0
    for i in range(40):
        if s[i] != s[79 - i]:
            count_b += 1

    print("\nРезультаты:")
    print(f"а) Количество неверных равенств: {count_a}")
    print(f"б) Количество неверных равенств: {count_b}")

if __name__ == "__main__":
    main()
    input("\nНажмите Enter, чтобы завершить программу.")
