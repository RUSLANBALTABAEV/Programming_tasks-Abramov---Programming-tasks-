"""
ГЛАВА 1
ОСНОВНЫЕ ПРИЁМЫ ПРОГРАММИРОВАНИЯ
9. Вычисления с хранением последовательности значений

285. Даны действительные числа a1, …, an. Если в результате замены отрицательных членов последовательности a1, …, an их квадратами члены будут образовывать неубывающую 
последовательность, то получить сумму членов исходной последовательности; в противном случае получить их произведение.
"""


def main():
    # Ввод количества элементов
    n = int(input("Введите количество элементов n: "))
    
    # Ввод последовательности
    a = []
    for i in range(n):
        while True:
            try:
                value = float(input(f"Введите действительное число a_{i+1}: "))
                a.append(value)
                break
            except ValueError:
                print("Ошибка: введите действительное число.")

    # Шаг 1: Создаем последовательность b, заменяя отрицательные числа их квадратами
    b = [x*x if x < 0 else x for x in a]
    
    print(f"\nИсходная последовательность a: {a}")
    print(f"Преобразованная последовательность b: {b}")

    # Шаг 2: Проверяем, является ли b неубывающей последовательностью
    is_non_decreasing = all(b[i] <= b[i+1] for i in range(n-1))
    
    # Шаг 3: Вычисляем результат
    if is_non_decreasing:
        result = sum(a)
        print(f"\nПоследовательность b является неубывающей.")
        print(f"Сумма членов исходной последовательности: {result:.6f}")
    else:
        # Вычисляем произведение
        product = 1.0
        for x in a:
            product *= x
        print(f"\nПоследовательность b НЕ является неубывающей.")
        print(f"Произведение членов исходной последовательности: {product:.6f}")

if __name__ == "__main__":
    main()
    input("\n\nНажмите Enter, чтобы завершить программу.")
